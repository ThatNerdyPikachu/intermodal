<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Intermodal</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="custom.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Intermodal</a></li><li class="chapter-item expanded "><a href="bittorrent.html"><strong aria-hidden="true">1.</strong> Bittorrent</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="bittorrent/bep-support.html"><strong aria-hidden="true">1.1.</strong> BEP Support</a></li><li class="chapter-item expanded "><a href="bittorrent/prior-art.html"><strong aria-hidden="true">1.2.</strong> Alternatives &amp; Prior Art</a></li><li class="chapter-item expanded "><a href="bittorrent/udp-tracker-protocol.html"><strong aria-hidden="true">1.3.</strong> UDP Tracker Protocol</a></li><li class="chapter-item expanded "><a href="bittorrent/references.html"><strong aria-hidden="true">1.4.</strong> References</a></li></ol></li><li class="chapter-item expanded "><a href="metadata.html"><strong aria-hidden="true">2.</strong> Metadata</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="metadata/prior-art.html"><strong aria-hidden="true">2.1.</strong> Prior Art</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Intermodal</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#intermodal" id="intermodal">Intermodal</a></h1>
<p>Intermodal is, as the moment, a BitTorrent metainfo utility. The binary is called <code>imdl</code>.</p>
<p>Project development is hosted on GitHub at <a href="https://github.com/casey/intermodal">github.com/casey/intermodal</a>.</p>
<p>Intermodal can be used to create <code>.torrent</code> files:</p>
<pre><code>$ imdl torrent create --input foo
</code></pre>
<p>Print information about existing torrent files:</p>
<pre><code>$ imdl torrent show --input foo.torrent
</code></pre>
<p>Verify downloaded torrents:</p>
<pre><code>$ imdl torrent verify --input foo.torrent --content foo
</code></pre>
<p>Generate magnet links from torrent files:</p>
<pre><code>$ imdl torrent link --input foo.torrent
</code></pre>
<p>Functionality that is not yet finalized, but still available for preview, can be accessed with the <code>--unstable</code> flag:</p>
<p>Print information about a collection of torrents:</p>
<pre><code>$ imdl --unstable torrent stats --input dir
</code></pre>
<p>Happy sharing!</p>
<h1><a class="header" href="#bittorrent" id="bittorrent">Bittorrent</a></h1>
<p>This page intentionally left blank.</p>
<h1><a class="header" href="#bep-support" id="bep-support">BEP Support</a></h1>
<table><thead><tr><th align="center">Symbol</th><th>Meaning</th></tr></thead><tbody>
<tr><td align="center">✅</td><td>Supported</td></tr>
<tr><td align="center">❌</td><td>Unsupported (link to issue)</td></tr>
<tr><td align="center">➖</td><td>Not Applicable</td></tr>
</tbody></table>
<br>
<table><thead><tr><th align="center">BEP</th><th align="center">Status</th><th align="left">Title</th></tr></thead><tbody>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0000.html">00</a></td><td align="center">➖</td><td align="left">Index of BitTorrent Enhancement Proposals</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0001.html">01</a></td><td align="center">➖</td><td align="left">The BitTorrent Enhancement Proposal Process</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0002.html">02</a></td><td align="center">➖</td><td align="left">Sample reStructured Text BEP Template</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0003.html">03</a></td><td align="center">✅</td><td align="left">The BitTorrent Protocol Specification</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0004.html">04</a></td><td align="center">➖</td><td align="left">Assigned Numbers</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0005.html">05</a></td><td align="center">✅</td><td align="left">DHT Protocol</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0006.html">06</a></td><td align="center">➖</td><td align="left">Fast Extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0007.html">07</a></td><td align="center">➖</td><td align="left">IPv6 Tracker Extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0008.html">08</a></td><td align="center">➖</td><td align="left">Tracker Peer Obfuscation</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0009.html">09</a></td><td align="center">✅</td><td align="left">Extension for Peers to Send Metadata Files</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0010.html">10</a></td><td align="center">➖</td><td align="left">Extension Protocol</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0011.html">11</a></td><td align="center">➖</td><td align="left">Peer Exchange (PEX)</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0012.html">12</a></td><td align="center">✅</td><td align="left">Multitracker Metadata Extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0014.html">14</a></td><td align="center">➖</td><td align="left">Local Service Discovery</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0015.html">15</a></td><td align="center">➖</td><td align="left">UDP Tracker Protocol for BitTorrent</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0016.html">16</a></td><td align="center">➖</td><td align="left">Superseeding</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0017.html">17</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/92">❌</a></td><td align="left">HTTP Seeding</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0018.html">18</a></td><td align="center">➖</td><td align="left">Search Engine Specificiation</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0019.html">19</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/93">❌</a></td><td align="left">WebSeed - HTTP/FTP Seeding (GetRight style)</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0020.html">20</a></td><td align="center">➖</td><td align="left">Peer ID Conventions</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0021.html">21</a></td><td align="center">➖</td><td align="left">Extension for partial seeds</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0022.html">22</a></td><td align="center">➖</td><td align="left">BitTorrent Local Tracker Discovery Protocol</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0023.html">23</a></td><td align="center">➖</td><td align="left">Tracker Returns Compact Peer Lists</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0024.html">24</a></td><td align="center">➖</td><td align="left">Tracker Returns External IP</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0025.html">25</a></td><td align="center">➖</td><td align="left">An Alternate BitTorrent Cache Discovery Protocol</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0026.html">26</a></td><td align="center">➖</td><td align="left">Zeroconf Peer Advertising and Discovery</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0027.html">27</a></td><td align="center">✅</td><td align="left">Private Torrents</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0028.html">28</a></td><td align="center">➖</td><td align="left">Tracker exchange extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0029.html">29</a></td><td align="center">➖</td><td align="left">uTorrent transport protocol</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0030.html">30</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/94">❌</a></td><td align="left">Merkle hash torrent extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0031.html">31</a></td><td align="center">➖</td><td align="left">Failure Retry Extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0032.html">32</a></td><td align="center">➖</td><td align="left">BitTorrent DHT Extensions for IPv6</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0033.html">33</a></td><td align="center">➖</td><td align="left">DHT Scrapes</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0034.html">34</a></td><td align="center">➖</td><td align="left">DNS Tracker Preferences</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0035.html">35</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/96">❌</a></td><td align="left">Torrent Signing</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0036.html">36</a></td><td align="center">➖</td><td align="left">Torrent RSS feeds</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0037.html">37</a></td><td align="center">➖</td><td align="left">Anonymous BitTorrent over proxies</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0038.html">38</a></td><td align="center">➖</td><td align="left">Finding Local Data Via Torrent File Hints</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0039.html">39</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/98">❌</a></td><td align="left">Updating Torrents Via Feed URL</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0040.html">40</a></td><td align="center">➖</td><td align="left">Canonical Peer Priority</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0041.html">41</a></td><td align="center">➖</td><td align="left">UDP Tracker Protocol Extensions</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0042.html">42</a></td><td align="center">➖</td><td align="left">DHT Security extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0043.html">43</a></td><td align="center">➖</td><td align="left">Read-only DHT Nodes</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0044.html">44</a></td><td align="center">➖</td><td align="left">Storing arbitrary data in the DHT</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0045.html">45</a></td><td align="center">➖</td><td align="left">Multiple-address operation for the BitTorrent DHT</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0046.html">46</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/244">❌</a></td><td align="left">Updating Torrents Via DHT Mutable Items</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0047.html">47</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/99">❌</a></td><td align="left">Padding files and extended file attributes</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0048.html">48</a></td><td align="center">➖</td><td align="left">Tracker Protocol Extension: Scrape</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0049.html">49</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/100">❌</a></td><td align="left">Distributed Torrent Feeds</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0050.html">50</a></td><td align="center">➖</td><td align="left">Publish/Subscribe Protocol</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0051.html">51</a></td><td align="center">➖</td><td align="left">DHT Infohash Indexing</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0052.html">52</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/101">❌</a></td><td align="left">The BitTorrent Protocol Specification v2</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0053.html">53</a></td><td align="center"><a href="https://github.com/casey/intermodal/issues/245">❌</a></td><td align="left">Magnet URI extension - Select specific file indices for download</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0054.html">54</a></td><td align="center">➖</td><td align="left">The lt_donthave extension</td></tr>
<tr><td align="center"><a href="http://bittorrent.org/beps/bep_0055.html">55</a></td><td align="center">➖</td><td align="left">Holepunch extension</td></tr>
</tbody></table>
<h1><a class="header" href="#alternatives--prior-art" id="alternatives--prior-art">Alternatives &amp; Prior Art</a></h1>
<table><thead><tr><th>Name</th><th>UI</th><th>Language</th><th>Notes</th></tr></thead><tbody>
<tr><td><a href="https://github.com/rndusr/torf-cli">torf-cli</a></td><td>CLI</td><td>Python</td><td>Highly recommended utility for creating torrents and magnet links, as well as displaying information about and editing existing torrents.</td></tr>
<tr><td><a href="https://github.com/Rudde/mktorrent">mktorrent</a></td><td>CLI</td><td>C</td><td>Popular but unmaintained torrent file creator.</td></tr>
<tr><td><a href="https://github.com/xxkfqz/pmktorrent">pmktorrent</a></td><td>CLI</td><td>C</td><td>Maintained fork of mktorrent.</td></tr>
<tr><td><a href="https://github.com/mukaibot/mktorrent">mktorrent</a></td><td>Library</td><td>Ruby</td><td>Library for creating torrent files.</td></tr>
<tr><td><a href="https://github.com/rsnitsch/py3createtorrent/">py3createtorrent</a></td><td>CLI</td><td>Python</td><td>Torrent file creator.</td></tr>
<tr><td><a href="https://github.com/webtorrent/create-torrent">create-torrent</a></td><td>Library &amp; CLI</td><td>JavaScript</td><td>Javascript library and CLI for creating torrents.</td></tr>
<tr><td><a href="https://github.com/RecursiveForest/whatmp3">whatmp3</a></td><td>CLI</td><td>Python</td><td>Torrent file creator that automatically transcodes FLAC files.</td></tr>
<tr><td><a href="https://github.com/torrent-file-editor/torrent-file-editor">torrent-file-editor</a></td><td>GUI</td><td>C++</td><td>Graphical torrent file editor.</td></tr>
<tr><td><a href="https://github.com/repolho/torrent2magnet">torrent2magnet</a></td><td>CLI</td><td>Python</td><td>Creates magnet links from torrent files.</td></tr>
<tr><td><a href="https://github.com/elektito/ih2torrent">h2torrent</a></td><td>CLI</td><td>Python</td><td>Creates .torrent files from an infohash or magnet URI.</td></tr>
<tr><td><a href="https://github.com/kz26/dottorrent">dottorrent</a></td><td>Library</td><td>Python</td><td>Library for creating torrent files</td></tr>
<tr><td><a href="https://github.com/kz26/dottorrent-cli">dottorrent-cli</a></td><td>CLI</td><td>Python</td><td>Torrent file creator.</td></tr>
<tr><td><a href="https://github.com/kimbatt/torrent-creator/">torrent-creator</a></td><td>Web page</td><td>Typescript</td><td>Single-page web app torrent file creator.</td></tr>
<tr><td><a href="https://github.com/pyroscope/pyrocore">pyrocore</a></td><td>CLI</td><td>PYthon</td><td>Utilities for creating, modifying, and displaying torrent files.</td></tr>
</tbody></table>
<h1><a class="header" href="#udp-tracker-protocol" id="udp-tracker-protocol">UDP Tracker Protocol</a></h1>
<p>This description of the UDP tracker protocol is adapted from
<a href="https://libtorrent.org/udp_tracker_protocol.html">this page</a> by Arvid Norberg.</p>
<p>A tracker with the protocol &quot;udp://&quot; in its URI is should be contacted with
this protocol.</p>
<p>All values are sent in network byte order (big-endian).</p>
<p>If no response to a request is received within 15 seconds, resend the request.
If no reply has been received after 60 seconds, stop retrying.</p>
<p>Transaction IDs sent in request messages are returned in response messages.</p>
<p>Connection ID returned by tracker in connect response message should be sent
by client in later requests. The initial connection ID sent in connect requests
shoudl be <code>0x41727101980</code> in network byte order.</p>
<p>Action values in requests and responses should be taken from the <code>Actions</code>
table.</p>
<p>When a message is followed by a structure labeled <em>repeating:</em>, the rest of the
message is zero or more of that structure.</p>
<p>Fields with type <code>[T; N]</code> are <code>N</code> instances of values of type <code>T</code> with no extra
padding.</p>
<p>Fields with type <code>[T; NAME]</code> are <code>NAME</code> instances of values of type <code>T</code> with no
extra padding, where <code>NAME</code> is an integer field of the same message.</p>
<p>Files with type <code>[T]</code> are zero or more instances of values of type <code>T</code> with no
extra padding, which make up any trailing bytes of the message.</p>
<h2><a class="header" href="#actions" id="actions">Actions</a></h2>
<table><thead><tr><th>name</th><th>value</th></tr></thead><tbody>
<tr><td>connect</td><td>0</td></tr>
<tr><td>announce</td><td>1</td></tr>
<tr><td>scrape</td><td>2</td></tr>
<tr><td>error</td><td>3</td></tr>
</tbody></table>
<h2><a class="header" href="#events" id="events">Events</a></h2>
<table><thead><tr><th>name</th><th>value</th></tr></thead><tbody>
<tr><td>none</td><td>0</td></tr>
<tr><td>completed</td><td>1</td></tr>
<tr><td>started</td><td>2</td></tr>
<tr><td>stopped</td><td>3</td></tr>
</tbody></table>
<h2><a class="header" href="#error" id="error">Error</a></h2>
<table><thead><tr><th>type</th><th>name</th><th>description</th></tr></thead><tbody>
<tr><td>i32</td><td>action</td><td></td></tr>
<tr><td>i32</td><td>transaction_id</td><td></td></tr>
<tr><td>[i8]</td><td>error_string</td><td>rest of packet is string describing error</td></tr>
</tbody></table>
<h2><a class="header" href="#connect" id="connect">Connect</a></h2>
<h3><a class="header" href="#request" id="request">Request</a></h3>
<table><thead><tr><th>type</th><th>name</th></tr></thead><tbody>
<tr><td>i64</td><td>connection_id</td></tr>
<tr><td>i32</td><td>action</td></tr>
<tr><td>i32</td><td>transaction_id</td></tr>
</tbody></table>
<h3><a class="header" href="#response" id="response">Response</a></h3>
<table><thead><tr><th>type</th><th>name</th></tr></thead><tbody>
<tr><td>i32</td><td>action</td></tr>
<tr><td>i32</td><td>transaction_id</td></tr>
<tr><td>i64</td><td>connection_id</td></tr>
</tbody></table>
<h2><a class="header" href="#announce" id="announce">Announce</a></h2>
<h3><a class="header" href="#request-1" id="request-1">Request</a></h3>
<table><thead><tr><th>type</th><th>name</th><th>description</th></tr></thead><tbody>
<tr><td>i64</td><td>connection_id</td><td></td></tr>
<tr><td>i32</td><td>action</td><td></td></tr>
<tr><td>i32</td><td>transaction_id</td><td></td></tr>
<tr><td>[i8; 20]</td><td>info_hash</td><td>torrent infohash</td></tr>
<tr><td>[i8; 20]</td><td>peer_id</td><td>peer ID</td></tr>
<tr><td>i64</td><td>downloaded</td><td>bytes downloaded this session</td></tr>
<tr><td>i64</td><td>left</td><td>bytes left to download</td></tr>
<tr><td>i64</td><td>uploaded</td><td>bytes uploaded this session</td></tr>
<tr><td>i32</td><td>event</td><td>from <code>Events</code> table</td></tr>
<tr><td>u32</td><td>ip</td><td>0 to use sender of this UDP packet</td></tr>
<tr><td>u32</td><td>key</td><td>randomly generated by client, unknown function.</td></tr>
<tr><td>i32</td><td>num_want</td><td>maximum number of peers to send in reply, use -1 for default</td></tr>
<tr><td>u16</td><td>port</td><td>listening port</td></tr>
<tr><td>u16</td><td>extensions</td><td></td></tr>
</tbody></table>
<h3><a class="header" href="#response-1" id="response-1">Response</a></h3>
<table><thead><tr><th>type</th><th>name</th><th>description</th></tr></thead><tbody>
<tr><td>i32</td><td>action</td><td></td></tr>
<tr><td>i32</td><td>transaction_id</td><td></td></tr>
<tr><td>i32</td><td>interval</td><td>seconds to wait announcing again</td></tr>
<tr><td>i32</td><td>leechers</td><td>number of peers in swarm that have not finished downloading</td></tr>
<tr><td>i32</td><td>seeders</td><td>number of peers in swarm that have finished downloading</td></tr>
</tbody></table>
<p><em>repeating:</em></p>
<table><thead><tr><th>type</th><th>name</th><th>description</th></tr></thead><tbody>
<tr><td>i32</td><td>ip</td><td>peer IP</td></tr>
<tr><td>i16</td><td>port</td><td>peer listening port</td></tr>
</tbody></table>
<h2><a class="header" href="#scrape" id="scrape">Scrape</a></h2>
<h3><a class="header" href="#request-2" id="request-2">Request</a></h3>
<table><thead><tr><th>type</th><th>name</th></tr></thead><tbody>
<tr><td>i64</td><td>connection_id</td></tr>
<tr><td>i32</td><td>action</td></tr>
<tr><td>i32</td><td>transaction_id</td></tr>
</tbody></table>
<p><em>repeating:</em></p>
<table><thead><tr><th>type</th><th>name</th></tr></thead><tbody>
<tr><td>[i8; 20]</td><td>info_hash</td></tr>
</tbody></table>
<h3><a class="header" href="#response-2" id="response-2">Response</a></h3>
<table><thead><tr><th>type</th><th>name</th></tr></thead><tbody>
<tr><td>i32</td><td>action</td></tr>
<tr><td>i32</td><td>transaction_id</td></tr>
</tbody></table>
<p><em>repeating:</em></p>
<table><thead><tr><th>type</th><th>name</th><th>description</th></tr></thead><tbody>
<tr><td>i32</td><td>complete</td><td>peers in swarm that have finished downloding</td></tr>
<tr><td>i32</td><td>downloaded</td><td>times torrent has been downloaded</td></tr>
<tr><td>i32</td><td>incomplete</td><td>peers that have not finished downloading</td></tr>
</tbody></table>
<h2><a class="header" href="#extensions" id="extensions">Extensions</a></h2>
<p>The extensions field is a bitmask. The following bits are assigned:</p>
<table><thead><tr><th>name</th><th>bit</th></tr></thead><tbody>
<tr><td>authentication</td><td>1</td></tr>
<tr><td>request string</td><td>2</td></tr>
</tbody></table>
<p>If multiple bits are present in the extension field, the extension bodies are
appended to the packet in the order of least significant bit first. For
instance, if both bit 1 and 2 are set, the extension represented by bit 1 comes
first, followed by the extension represented by bit 2.</p>
<h3><a class="header" href="#authentication" id="authentication">Authentication</a></h3>
<p>The packet will have authentication information appended to it.</p>
<p><code>passwd_hash</code> is the first eight bytes of <code>sha1(packet || sha1(password))</code>,
where <code>packet</code> is the bytes of the packet, less the final 8 bytes that are
<code>passwd_hash</code>.</p>
<table><thead><tr><th>type</th><th>name</th></tr></thead><tbody>
<tr><td>i8</td><td>username_length</td></tr>
<tr><td>[i8; <code>username_length</code></td><td>username</td></tr>
<tr><td>[u8; 8]</td><td>passwd_hash</td></tr>
</tbody></table>
<h3><a class="header" href="#request-string" id="request-string">Request String</a></h3>
<p>The request string extension is meant to allow torrent creators pass along
cookies back to the tracker. This can be useful for authenticating that a
torrent is allowed to be tracked by a tracker for instance. It could also be
used to authenticate users by generating torrents with unique tokens in the
tracker URL for each user. The extension body has the following format:</p>
<table><thead><tr><th>type</th><th>name</th></tr></thead><tbody>
<tr><td>i8</td><td>request_length</td></tr>
<tr><td>[i8; <code>request_length</code>]</td><td>request_string</td></tr>
</tbody></table>
<p><code>request_string</code> is the string that comes after the hostname and port in the
UDP tracker URL. Typically this starts with &quot;/announce&quot; The bittorrent client
is not expected to append query string arguments for stats reporting, like
&quot;uploaded&quot; and &quot;downloaded&quot; since this is already reported in the UDP tracker
protocol. However, the client is free to add arguments as extensions.|</p>
<h2><a class="header" href="#credits" id="credits">Credits</a></h2>
<p>Protocol designed by Olaf van der Spek and extended by Arvid Norberg</p>
<h1><a class="header" href="#references" id="references">References</a></h1>
<table><thead><tr><th align="left">URL</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left">https://github.com/bittorrent/bittorrent.org</td><td align="left">GitHub repository hosting protocol development discussion and contents of bittorrent.org.</td></tr>
<tr><td align="left">https://www.bittorrent.org</td><td align="left">Official web site site hosting BEPs and other information about the protocol.</td></tr>
<tr><td align="left">https://wiki.theory.org/index.php/Main_Page</td><td align="left">Wiki with lots of information about all aspects of the BitTorrent protocol and implementations.</td></tr>
<tr><td align="left">https://archive.org/details/2014_torrent_archive_organized)</td><td align="left">Massive 158 GiB archive containing 5.5 million torrents, assembled in 2014.</td></tr>
<tr><td align="left">https://github.com/internetarchive/dweb-transport</td><td align="left">Github repository hosting The Internet Archive's distributed web and BitTorrent-related software.</td></tr>
<tr><td align="left">https://libtorrent.org/udp_tracker_protocol.html</td><td align="left">UDP tracker protocol description.</td></tr>
</tbody></table>
<h1><a class="header" href="#metadata" id="metadata">Metadata</a></h1>
<p>This page intentionally left blank.</p>
<h1><a class="header" href="#prior-art" id="prior-art">Prior Art</a></h1>
<ul>
<li><a href="http://www.rssboard.org/media-rss">Media RSS Specification</a>: <em>Media RSS is a new RSS module that supplements the <enclosure> capabilities of RSS 2.0. RSS enclosures are already being used to syndicate audio files and images. Media RSS extends enclosures to handle other media types, such as short films or TV, as well as provide additional metadata with the media. Media RSS enables content publishers and bloggers to syndicate multimedia content such as TV and video clips, movies, images and audio.</em></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
